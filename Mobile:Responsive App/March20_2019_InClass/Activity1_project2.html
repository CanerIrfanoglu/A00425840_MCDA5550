<!DOCTYPE html>
<html>

   <head>
      <meta charset="utf-8">
      <script type="text/javascript" src = ''></script>
      <!--<script type="text/javascript" src = 'javascript.js'></script>-->
      <title>University DataBase</title>
      <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />

<!-- JS -->
      <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
      <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>

      <script type="text/javascript">
         function save()
         {
            //create an object
            var newObj = {
            "Name": $("#Name").val(),
            "Address": $("#Address").val(),
            "PhoneNumber": $("#Phone").val() 
            };

            $.post(SERVER_URL + "/saveUniversity",
                  obj,
                  function (data) {
                     alert("Result saved successfully!");
                  }).fail(function (error) {
               alert("Error: " +error.responseText);
            });


            /*var universities = localStorage.getItem("universities");

            // no data stored yet, create a new one
            if (universities == null) {
             universities = [];//if not found, create a new array
            }
            else 
            {
               universities = JSON.parse(universities); //if found convert back to a JSON object
            }//end if-else
            universities.push(newObj); //now add the new object
            //the save its string representation
            localStorage.setItem("universities", JSON.stringify(universities));*/

         }

         function search()
         {
            //check if exists
            var universities = localStorage.getItem("universities");
            if (universities == null) {
                //no record whatsoever, let the user know
                alert("No record found");
            }
         }

         function saveInfo () {
            if (validateData()) {
                //create an object
                var newObj = {
                    "Name": $("#name").val(),
                    "Address": $("#address").val(),
                    "PhoneNumber": $("#phone").val()

                };

                alert("Save info is running");
                
                /**
                 * Implement the rest
                 * 
                 * 1) "post" the data (newObj) to the server
                 *      (the data should be saved by your server-side script
                 * 2) If error, alert the user
                 * 
                 */
            }//end if validateData()
        }//end function


      </script>

      <meta name = "viewport" content="width=device-width, initial-scale=1.0">
   </head>

   <body>
      <div data-role="page">
        
         <div data-role = header data-id = "persistent" data-position = "fixed">
            <h1>University Database</h1>
         </div>


         
            <form>
               <div data-role = "content">
                  <label for="Name">Name</label>
                  <input type="text" name="Name" id = "Name"  placeholder="Name" required>
                  <label for="Address">Address</label>
                  <input type="text" name="Address" id = "Address"  placeholder="Address" required>
                  <label for="Phone">Phone</label>
                  <input type="text" name="Phone" id = "Phone" placeholder="Phone" required>

                  <br>
                  <br>
                  <br>
                  <input type="submit" onclick="saveInfo()" id="save" value="Save">
                  <input type="submit" onclick="deleteInformation()" id="delete" value="Delete">
                  <br>
                  <br>
                  <br>
               </div>

              
                  <label for="search">Search</label>
                  <input type="text" name="search" id = "search" placeholder="Enter the university name">
                  <br>  
                  <input type="submit" onclick="search()" id="search" value="Search"> 
                  <br>
                  <button onclick="displayRecords();">Display records</button>
                  <br>
                  <table id="displayTable">
                  </table>
                  <br><br>
               
            </form>


         </div>

         <div data-role= footer data-id = "persistent" data-position = "fixed">
            <h1>
               Developed by Caner
            </h1>
         </div>


      </div>
   </body>
</html>